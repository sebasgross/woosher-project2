
<html>
  <head>
    <title>My First Map</title>

    
  </head>
  <body>
    <h3>My First Map</h3>

<span class="metadata-marker" style="display: none;" data-region_tag="html-body"></span>    <h3>My Google Maps Demo</h3>
    <div id="map"></div>


    {{!-- <input id="pac-input" class="controls" type="text" placeholder="Search Box"> --}}

    {{!-- <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAibPXhN5vurQTn4TKhQffz-uHeNJT-Nro&libraries=places"></script> --}}

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAibPXhN5vurQTn4TKhQffz-uHeNJT-Nro"></script>
        <script  async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAibPXhN5vurQTn4TKhQffz-uHeNJT-Nro&callback=initMap"></script>

  </body>
</html>
<style>

    </style>
<script>

  function startMap() {
  let whoosherLoc = {
  	lat: 25.344,
  	lng: 131.036};
  const map = new google.maps.Map(
    document.getElementById('map'),
    {
      zoom: 5,
      center: whoosherLoc
    }
  );
}
/*

*/

    // Try to get a geolocation object from the web browser

    // User granted permission
    // Center the map in the position we got



startMap()
function initMap() {
  if (navigator.geolocation) {

  // Get current position
  // The permissions dialog will pop up
  navigator.geolocation.getCurrentPosition(function (position) {
    // Create an object to match Google's Lat-Lng object format
    const center = {
      lat: position.coords.latitude,
      lng: position.coords.longitude
    };
    console.log('center: ', center)

  // The location of Uluru
  var uluru = {lat: center.lat, lng: center.lng};
  // The map, centered at Uluru
  var map = new google.maps.Map(
      document.getElementById('map'), {zoom: 15, center: uluru});
  // The marker, positioned at Uluru
  var marker = new google.maps.Marker({position: uluru, map: map});
})
  }
}
console.log(map)

/*
const myMarker = new google.maps.Marker({
  position: {
  	lat: center.lat,
  	lng: center.lng}
  },
  map: map,
  
});
*/
</script>